

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.2.2. Array, stack, queue &#8212; Software Development: A Pragmatic Approach 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2.3. Javascript" href="js_index.html" />
    <link rel="prev" title="2.2.1. Big O notation" href="o_not.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="js_index.html" title="2.3. Javascript"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="o_not.html" title="2.2.1. Big O notation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Software Development: A Pragmatic Approach 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="ch2_index.html" >2. Stage 1</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ds_index.html" accesskey="U">2.2. First touch of algorithms</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2.2.2. Array, stack, queue</a><ul>
<li><a class="reference internal" href="#arrays">2.2.2.1. Arrays</a><ul>
<li><a class="reference internal" href="#stack">2.2.2.1.1. Stack</a></li>
<li><a class="reference internal" href="#queue">2.2.2.1.2. Queue</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="o_not.html"
                        title="previous chapter">2.2.1. Big O notation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="js_index.html"
                        title="next chapter">2.3. Javascript</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ds.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="array-stack-queue">
<h1>2.2.2. Array, stack, queue<a class="headerlink" href="#array-stack-queue" title="Permalink to this headline">¶</a></h1>
<p>For reasons that will soon become apparent, it&#8217;s useful to have a basic understanding of data structures. This section will cover arrays, stacks and queues.</p>
<div class="section" id="arrays">
<h2>2.2.2.1. Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h2>
<p>We&#8217;ve already used <em>arrays</em> in C: Array is a data structure which contains multiple elements of data, such that each element uses the same amount of memory and they&#8217;re allocated contiguously:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">+---+---+---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+---+---+---+</span>
</pre></div>
</div>
<p>As you can possibly imagine, accessing an element in an array is fast (O(1)) because you can calculate the address of an element using the following formula:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="n">address</span><span class="p">(</span><span class="n">element_index</span><span class="p">)</span> <span class="o">=</span> <span class="n">base_address</span> <span class="o">+</span> <span class="n">element_index</span> <span class="o">*</span> <span class="n">element_size</span>
</pre></div>
</div>
<p>However, if you wanted to insert an element in an array, you have to move all elements after the new element one slot to the right, making inserting a relatively complex (O(n)) operation. Similarly, were one to ask &#8220;do I have value x in the array&#8221;, one would have to traverse the whole array, making this an O(n) operation as well.</p>
<p>You can define an array in C with the following syntax (for example, an array with 5 ints):</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">my_array</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
</pre></div>
</div>
<p>Lists in Python are technically also arrays but each elements holds a pointer to arbitrary data, such that in Python, each element in a list can be of different type.</p>
<div class="section" id="stack">
<h3>2.2.2.1.1. Stack<a class="headerlink" href="#stack" title="Permalink to this headline">¶</a></h3>
<p>Typically the memory layout for a stack is the same as for an array but the usage pattern is different.</p>
<p>You can imagine stack as an array where you only have visibility over the last element in the array: you can read it, pop it (redefine &#8220;last element&#8221; as one to the left), and push an element (redefine &#8220;last element&#8221; as one to the right, and set its value).</p>
<p>Stack is also called &#8220;LIFO&#8221; - last in, first out. Here&#8217;s an example &#8220;animation&#8221; of using a stack:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">+---+---+---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="n">x</span> <span class="o">|</span> <span class="c1"># push(3)</span>
<span class="o">+---+---+---+</span>
      <span class="o">^</span> <span class="n">end</span> <span class="n">of</span> <span class="n">stack</span>

<span class="o">+---+---+---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span> <span class="c1"># pop() - returns 3</span>
<span class="o">+---+---+---+</span>
          <span class="o">^</span> <span class="n">end</span> <span class="n">of</span> <span class="n">stack</span>

<span class="o">+---+---+---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span>
<span class="o">+---+---+---+</span>
      <span class="o">^</span> <span class="n">end</span> <span class="n">of</span> <span class="n">stack</span>
</pre></div>
</div>
<ul class="simple">
<li>Initially, in this example, we have two elements in the stack (1 and 2). In total our array has three elements, such as the stack can&#8217;t hold any more. If we try to push any more in the stack then we get a <em>stack overflow</em>. (&#8216;x&#8217; denotes unknown memory.)</li>
<li>We then push 3 in the stack, meaning we set the value of the third element to 3 and note that the end of the stack is now on the third element.</li>
<li>We then pop an element from the stack, meaning we set the end of the stack to the second element. The 3 is still in the memory but not treated as part of the stack.</li>
</ul>
<div class="topic">
<p class="topic-title first">I&#8217;ve heard of stack overflow before</p>
<p>In computers (mobile phones, what have you) there&#8217;s normally another, implicit stack: whenever you declare a variable in C, it&#8217;s typically put in <em>the stack</em>, which is memory allocated by the compiler for the program run time for things like local variables. Also, when you call a function, the function parameters as well as the return address are typically put in the stack.</p>
<p>An issue arises when you overflow <em>this stack</em> - it typically has a fixed amount of memory allocated to it, for example eight megabytes, and if you have very large local variables (for example an array with tens of millions of elements) or very deep recursion (millions of recursive function calls) then your program will overflow the stack, the operating system will notice this and kill your application. Apart from having your application crash, stack overflows can be security holes and therefore used to hack into systems.</p>
</div>
</div>
<div class="section" id="queue">
<h3>2.2.2.1.2. Queue<a class="headerlink" href="#queue" title="Permalink to this headline">¶</a></h3>
<p>Queue is similar to stack but the opposite. It typically also has the same memory layout as an array but with a different usage pattern.</p>
<p>You can imagine queue as an array where you only have visibility over the first element in the array: you can read it, pop it (redefine &#8220;first element&#8221; as one to the right), and push an element (redefine the last element as one to the right, and set its value).</p>
<p>Queue is also called &#8220;FIFO&#8221; - first in, first out. Here&#8217;s an example &#8220;animation&#8221; of using a queue:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">+---+---+---+---+---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="o">|</span> <span class="c1"># push(3)</span>
<span class="o">+---+---+---+---+---+</span>
  <span class="o">^</span>   <span class="o">^</span> <span class="n">end</span> <span class="n">of</span> <span class="n">queue</span>
  <span class="n">start</span> <span class="n">of</span> <span class="n">queue</span>

<span class="o">+---+---+---+---+---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span> <span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="o">|</span> <span class="c1"># pop() - returns 1</span>
<span class="o">+---+---+---+---+---+</span>
  <span class="o">^</span>       <span class="o">^</span> <span class="n">end</span> <span class="n">of</span> <span class="n">queue</span>
  <span class="n">start</span> <span class="n">of</span> <span class="n">queue</span>

<span class="o">+---+---+---+---+---+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">3</span> <span class="o">|</span> <span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="o">|</span>
<span class="o">+---+---+---+---+---+</span>
      <span class="o">^</span>   <span class="o">^</span> <span class="n">end</span> <span class="n">of</span> <span class="n">queue</span>
      <span class="n">start</span> <span class="n">of</span> <span class="n">queue</span>
</pre></div>
</div>
<ul class="simple">
<li>Initially, in this example, we have two elements in the queue (1 and 2). In total our array has five elements, such as we can&#8217;t push more than five elements in the queue ever without reallocating.</li>
<li>We then push 3 in the queue, meaning we set the value of the third element to 3 and note that the end of the queue is now on the third element.</li>
<li>We then pop an element from the queue, meaning we set the beginning of the queue to the second element. The 1 is still in the memory but not treated as part of the queue.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="js_index.html" title="2.3. Javascript"
             >next</a> |</li>
        <li class="right" >
          <a href="o_not.html" title="2.2.1. Big O notation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Software Development: A Pragmatic Approach 0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="ch2_index.html" >2. Stage 1</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ds_index.html" >2.2. First touch of algorithms</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Antti Salonen.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
  </body>
</html>