<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.1. Typing &#8212; guide 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Data structures" href="ds_index.html" />
    <link rel="prev" title="3. Programming language taxonomy" href="lang_index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="typing">
<h1>3.1. Typing<a class="headerlink" href="#typing" title="Permalink to this headline">¶</a></h1>
<p>Most programming languages come with a more or less sophisticated type systems. The type system defines how the types of variables and functions are used and interpreted.</p>
<p>A common example is the following expression:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="m">4</span> + <span class="s2">&quot;2&quot;</span>
</pre></div>
</div>
<p>What is the result of this expression? The following provides an overview:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Language</th>
<th class="head">Output</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Javascript</td>
<td>42</td>
</tr>
<tr class="row-odd"><td>Java</td>
<td>42</td>
</tr>
<tr class="row-even"><td>Perl</td>
<td>6</td>
</tr>
<tr class="row-odd"><td>Lua</td>
<td>6</td>
</tr>
<tr class="row-even"><td>Python</td>
<td>TypeError: unsupported operand type(s) for +: &#8216;int&#8217; and &#8216;str&#8217;</td>
</tr>
<tr class="row-odd"><td>Haskell</td>
<td>Error: No instance for (Num [Char]) arising from a use of ‘+’</td>
</tr>
<tr class="row-even"><td>Ruby</td>
<td>String can&#8217;t be coerced into Fixnum (TypeError)</td>
</tr>
<tr class="row-odd"><td>C</td>
<td>134514105 (undefined behaviour)</td>
</tr>
<tr class="row-even"><td>C++</td>
<td>garbage (undefined behaviour)</td>
</tr>
</tbody>
</table>
<p>We see four different kinds of answers:</p>
<ul class="simple">
<li>Javascript and Java implicitly convert the number 4 into a string, then appends 2, resulting in &#8220;42&#8221;</li>
<li>Perl and Lua implicitly convert the string &#8220;2&#8221; into a number, then add 4, resulting in 6</li>
<li>Python, Haskell and Ruby throw an error</li>
<li>C and C++ interpret the addition as pointer arithmetic, accessing memory after the statically allocated string &#8220;2&#8221;, resulting in undefined behaviour</li>
</ul>
<p>Another example is about defining a simple function (pseudocode):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="k">function</span><span class="o">(</span>x<span class="o">)</span>:
    <span class="k">return</span> <span class="m">2</span> * x
</pre></div>
</div>
<p>If we were to define this function in C, it could look for example like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>int <span class="k">function</span><span class="o">(</span>int x<span class="o">)</span>
<span class="o">{</span>
    <span class="k">return</span> <span class="m">2</span> * x<span class="p">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This function explicitly defines the input and output types as integers; using other types such as a string when calling this function will issue a compiler warning.</p>
<p>If we were to define this function in Javascript, it would look like this;</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>I.e. no variable types explicitly defined. If we were to use Python, it would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>
</pre></div>
</div>
<p>While in Haskell the definition would look like this:</p>
<div class="highlight-haskell"><div class="highlight"><pre><span></span><span class="nf">function</span> <span class="n">x</span> <span class="ow">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>
</pre></div>
</div>
<p>Or in Java:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">function</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>What if we called these functions with a number? A string? The following table summarises this:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="27%" />
<col width="28%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Language</th>
<th class="head">Result when passing 5 (number)</th>
<th class="head">Result when passing &#8220;5&#8221; (string)</th>
<th class="head">Result when passing &#8220;abc&#8221; (string)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>C</td>
<td>10</td>
<td>garbage (undefined behaviour)</td>
<td>garbage (undefined behaviour)</td>
</tr>
<tr class="row-odd"><td>Javascript</td>
<td>10</td>
<td>10</td>
<td>NaN (a string indicating &#8220;not a number&#8221;)</td>
</tr>
<tr class="row-even"><td>Python</td>
<td>10</td>
<td>&#8220;55&#8221;</td>
<td>&#8220;abcabc&#8221;</td>
</tr>
<tr class="row-odd"><td>Java</td>
<td>10</td>
<td>Compile error</td>
<td>Compile error</td>
</tr>
<tr class="row-even"><td>Haskell</td>
<td>10</td>
<td>Compile error</td>
<td>Compile error</td>
</tr>
</tbody>
</table>
<p>We see the result makes sense when inputting a number for all languages. When inputting &#8220;5&#8221; as string, C interprets this as a pointer and undefined behaviour ensues. Javascript implicitly converts the string to a number, which works when the string is indeed a number but returns &#8220;NaN&#8221; otherwise. When passing a string to the function in Python, Python interprets the multiplication as a multiplication of the string, hence duplicating the string. Haskell and Java refuse to work with the string input.</p>
<p>The above can be summarised by categorising the language type systems by how dynamic the typing is (static vs. dynamic), and the strength (strong vs. weak).</p>
<div class="section" id="static-vs-dynamic-typing">
<h2>3.1.1. Static vs. dynamic typing<a class="headerlink" href="#static-vs-dynamic-typing" title="Permalink to this headline">¶</a></h2>
<p>C, Haskell and Java are statically typed languages: the types of all variables must be defined at compilation time. For C and Java, the types must in most cases be explicitly stated, like we saw in the function definitions above. Haskell typically infers the types at compile time.</p>
<p>Javascript and Python are dynamically typed languages: the types of variables may change depending on context. For example, the variable &#8220;x&#8221; in the function above may be a string or an integer, depending on the caller.</p>
</div>
<div class="section" id="strong-vs-weak-typing">
<h2>3.1.2. Strong vs. weak typing<a class="headerlink" href="#strong-vs-weak-typing" title="Permalink to this headline">¶</a></h2>
<p>C and Javascript are weakly typed languages: the types of the variables aren&#8217;t fixed but may be implicitly converted to other types depending on the context. For example, passing a string as an int will cause implicit conversion of the string to an int.</p>
<p>Python and Haskell are strongly typed languages: the types of variables are fixed and will not implicitly change, such that any type conversions must be explicit by the programmer.</p>
<p>It should be pointed out that while, based on the above, Java and Haskell are both strongly typed, some languages are more strongly typed than others. In our 4 + &#8220;2&#8221; example we saw that Haskell returned an error while Java returned &#8220;42&#8221;. In this case, Java <em>implicitly converted</em> the type of the expression 4 to a string in order to avoid a compile error and return a string instead. Hence it can be argued that while Java is also a strongly typed language, Haskell is even more strongly typed.</p>
<p>Having this overview of the different type systems helps picking up and understanding new languages.</p>
</div>
<div class="section" id="duck-typing">
<h2>3.1.3. Duck typing<a class="headerlink" href="#duck-typing" title="Permalink to this headline">¶</a></h2>
<p>The combination of strong, dynamic typing is also often called &#8220;duck typing&#8221;. This is based on the notion that &#8220;if it walks like a duck and it quacks like a duck, then it is a duck&#8221;. Let&#8217;s take a look at our Python function definition again:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>
</pre></div>
</div>
<p>The operation to multiply with an int (2 *) is defined for both integers and strings. For integers, the traditional multiplication is performed, while for strings the string is duplicated. From the point of view of the function, it makes no difference which type is passed to the function, as long as it can be multiplied by 2, hence duck typing. As we shall see, this becomes more interesting when writing your own data types.</p>
<p><em>Exercise</em>: Write Python code that, when executed, prints the asterisk 50 times, i.e. &#8220;<strong>**********************************************</strong>&#8221;.</p>
<div class="section" id="interpreted-and-compiled-languages">
<h3>3.1.3.1. Interpreted and compiled languages<a class="headerlink" href="#interpreted-and-compiled-languages" title="Permalink to this headline">¶</a></h3>
<p>Typically (but not always), statically typed languages are compiled languages and dynamically typed languages are interpreted. There are pros and cons to both. The following attempts to summarise this somewhat.</p>
</div>
</div>
<div class="section" id="catching-errors">
<h2>3.1.4. Catching errors<a class="headerlink" href="#catching-errors" title="Permalink to this headline">¶</a></h2>
<p>Compilation can catch errors that wouldn&#8217;t be caught in interpreted programs until the code with the error was executed. For example, accidentally attempting to assign a string value to an int will be a compiler error. With an interpreted language, the error typically won&#8217;t be raised until the code is ran.</p>
</div>
<div class="section" id="possible-program-space">
<h2>3.1.5. Possible program space<a class="headerlink" href="#possible-program-space" title="Permalink to this headline">¶</a></h2>
<p>Because compilation and type checking necessarily eliminates some programs which in theory would be sound, the programmer can write programs in dynamically typed languages that aren&#8217;t possible in statically typed languages. Consider the following example (Python code):</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">which_type</span><span class="p">,</span> <span class="n">which_value</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">which_type</span> <span class="o">==</span> <span class="s1">&#39;str&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">which_value</span> <span class="o">+</span> <span class="s1">&#39;a&#39;</span>
    <span class="k">elif</span> <span class="n">which_type</span> <span class="o">==</span> <span class="s1">&#39;int&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">which_value</span> <span class="o">+</span> <span class="mi">5</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="c1"># the following parameters are hard coded here but could e.g. be read from a file instead</span>
<span class="k">print</span> <span class="n">func</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">func</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The function &#8216;func&#8217; returns either a string, an integer or None depending on the input parameter. The program can be run and it&#8217;ll work perfectly fine, but if one attempts to write a similar program in a statically typed language then one must circumvent the type checking because the types for both the second input parameter and the return value are dynamic, that is, determined at runtime. While for many languages it&#8217;s possible to circumvent the type checking, in practice the easiest solution in a statically typed language would be to avoid this kind of a construct altogether and reshape the program such that it won&#8217;t be necessary.</p>
<p>In general, there&#8217;s no clear right or wrong around which kind of typing is the best, and typically arguments around this topic arise the same way normal people would argue about which car make, film, political party or religion is the best. While I attempt to stay objective, the following does include my subjective opinion where necessary - caveat emptor.</p>
<p>Often, for short and simple programs or programs that are easy to test, dynamic typing doesn&#8217;t hurt, and dynamically typed languages often help implement the program faster. For larger programs that are more difficult to break to smaller pieces that can be executed in isolation, static typing often ends up being a big productivity boost as a large class of errors are trivially caught by the compiler, as opposed to discovering issues at runtime.</p>
<p>In addition to typing, there are other considerations about which language to use when; compiled languages have typically much better performance than dynamically typed languages which, depending on the requirements, may or may not rule out dynamically typed languages; languages with memory safety may be preferred to avoid any security issues or other memory handling related bugs; some platforms, especially embedded systems, may only have a C compiler or an assembler available.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3.1. Typing</a><ul>
<li><a class="reference internal" href="#static-vs-dynamic-typing">3.1.1. Static vs. dynamic typing</a></li>
<li><a class="reference internal" href="#strong-vs-weak-typing">3.1.2. Strong vs. weak typing</a></li>
<li><a class="reference internal" href="#duck-typing">3.1.3. Duck typing</a><ul>
<li><a class="reference internal" href="#interpreted-and-compiled-languages">3.1.3.1. Interpreted and compiled languages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#catching-errors">3.1.4. Catching errors</a></li>
<li><a class="reference internal" href="#possible-program-space">3.1.5. Possible program space</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="lang_index.html">3. Programming language taxonomy</a><ul>
      <li>Previous: <a href="lang_index.html" title="previous chapter">3. Programming language taxonomy</a></li>
      <li>Next: <a href="ds_index.html" title="next chapter">4. Data structures</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/lang.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Antti Salonen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/lang.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>